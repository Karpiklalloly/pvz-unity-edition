# Plant Selection Menu & Game End Windows

## Обзор
Добавлено меню выбора растений в стиле Plants vs Zombies и окна победы/поражения.

## Новые компоненты

### 1. Меню выбора растений
- **Файл**: `GameUI.uxml` (обновлен)
- **Стили**: `GmaUI.uss` (добавлены новые классы)
- **Шаблоны**: 
  - `SelectablePlantCard.uxml` - карточка растения для выбора
  - `SelectedPlantSlot.uxml` - слот для выбранного растения

**Функциональность:**
- Показывает доступные растения для выбора
- Позволяет выбрать до 6 растений
- Визуальная обратная связь при выборе
- Кнопка "Начать уровень" активируется только при выборе хотя бы одного растения

### 2. Окна победы и поражения
- **Окно победы**: Показывается при успешном завершении уровня
- **Окно поражения**: Показывается при прорыве зомби

**Статистика:**
- Количество пройденных волн
- Количество убитых зомби
- Количество собранного солнца

**Кнопки навигации:**
- Следующий уровень (только в окне победы)
- Повторить уровень
- Главное меню

## Новые события

### StartLevelEvent
Отправляется при нажатии кнопки "Начать уровень" с выбранными растениями.

### NextLevelEvent, RestartLevelEvent, MainMenuEvent
События навигации для управления переходами между уровнями и меню.

## Обновленные системы

### GameUIUpdateSystem
- Добавлена поддержка меню выбора растений
- Отслеживание статистики игры
- Обработка событий победы/поражения

### GameNavigationSystem (новая)
Обрабатывает события навигации между уровнями и меню.

## Использование

1. При загрузке уровня автоматически показывается меню выбора растений
2. Игрок выбирает растения (до 6 штук)
3. Нажимает "Начать уровень"
4. Играет уровень с выбранными растениями
5. При победе/поражении показывается соответствующее окно со статистикой

## Настройка в Unity

В GameUIController нужно назначить:
- `_selectablePlantCardTemplate` → SelectablePlantCard.uxml
- `_selectedPlantSlotTemplate` → SelectedPlantSlot.uxml

Остальные поля уже настроены.